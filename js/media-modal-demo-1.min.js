(function(b){var a={button_id:"#open-media-lib",details_container:"#attachment-details",frame:null,init:function(){b(this.button_id).on("click",this.openMediaDialog);
},openMediaDialog:function(d){if(this.frame){this.frame.open();return;}this.frame=wp.media.frames.frame=wp.media({title:b(this).data("title"),button:{text:b(this).data("buttonText")},multiple:false,library:{type:"image"}});
this.frame.on("ready",function(){b(".media-modal").addClass("no-sidebar");});var c=this;this.frame.on("select",function(){var e=c.frame.state().get("selection").first();
a.handleMediaAttachment(e);});this.frame.open();},handleMediaAttachment:function(e){var c=b(this.details_container);b("input",c).each(function(){var f=b(this).attr("id").replace("attachment-","");
b(this).val(e.get(f));});var d=e.get("sizes");b("img",c).attr("src",d.thumbnail.url);b("textarea",c).val(JSON.stringify(e.toJSON(),null,2));}};b(document).ready(function(){a.init();
});})(jQuery);